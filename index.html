<!DOCTYPE HTML>
<html lang="en-US">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<title>Socket Race</title>
		<link rel="stylesheet" href="assets/css/normalize.min.css" media="all" />
		<link rel="stylesheet" href="assets/css/socketrace.css" media="all" />
	</head>
	<body>
		<div id="wrapper">
			<div class="message-box"></div>
			<header class="header">
				<img src="assets/images/liferay.png" alt="" />
				<h1>Socket Race</h1>
			</header>

			<section id="signup-view" class="view">
				<section class="form">
					<form id="signup-form">
						<input type="text" name="username" id="userName" placeholder="Digite seu nome" value="" />
						<input type="hidden" name="avatar" id="avatar" value="homer" />

						<h4>Escolha um avatar</h4>
						<ul class="avatars"></ul>
						<button type="submit">Jogar</button>
					</form>
				</section>
			</section>

			<section id="grid-view" class="view">
				<h2>Aguardando jogadores..</h2>
				<div class="grid-view-content"></div>
			</section>

			<section id="race-view" class="view">
				<h3>Prepare-se em</h3>
				<div class="race-view-content"></div>
				<div class="controls">
					<button type="button" data-rel="left">«</button>
					<button type="button" data-rel="right">»</button>
				</div>
			</section>

			<section id="score-view" class="view">
				<h2>Fim de jogo!</h2>
				<p><strong>Posições:</strong></p>
				<div class="score-view-content">
					<div class="winner"></div>
					<ul id="score-race-players"></ul>
				</div>
				<p>Obrigado por participar!</p>
			</section>

			<section id="next-game-view" class="view">
				<h2>Aguarde a próxima rodada...</h2>
			</section>
		</div>

		<script type="text/x-handlebars-template" id="tpl-avatar-list">
			{{#each avatars}}
				<li class="{{selected}}">
					<img src="{{src}}_attack.gif" data-id="{{id}}" />
					<p>{{name}}</p>
				</li>
			{{/each}}
		</script>

		<script type="text/x-handlebars-template" id="tpl-grid-view">
			<ul class="grid-players">
				<div class="profile">
					<span class="avatar"><img src="{{avatar_path}}{{profile.avatar}}_attack.gif" /></span>
					<span class="name">{{profile.userName}}</span>
				</div>
				{{#each players}}
					<li>
						<div class="profile">
							<span class="avatar"><img src="assets/images/avatar/{{avatar}}_attack.gif" /></span>
							<span class="name">{{userName}}</span>
						</div>
					</li>
				{{/each}}
			</ul>

			<h4>Restam {{slots}} vagas</h4>
		</script>

		<script type="text/x-handlebars-template" id="tpl-race-view">
			<div class="profile">
				<span class="avatar"><img src="{{avatar_path}}{{profile.avatar}}_race.gif" /></span>
				<span class="name">{{profile.userName}}</span>
			</div>
		</script>

		<script type="text/x-handlebars-template" id="tpl-race-score-view">
			<li style="left: {{profile.position}}px">
				<div class="profile" data-id="{{profile.id}}">
					<span class="avatar"><img src="{{avatar_path}}{{profile.avatar}}_race.gif" /></span>
					<span class="name">{{place}}{{profile.userName}}</span>
				</div>
			</li>
		</script>

		<script src="http://127.0.0.1:4000/socket.io/socket.io.js"></script>
		<script src="src/lib/handlebars-1.0.rc.1.js"></script>
		<script src="src/lib/zepto.min.js"></script>
		<script src="config.js"></script>
		<script src="src/constants.js"></script>
		<script src="src/game.js"></script>
	</body>
</html>